{"ast":null,"code":"import { useState, useEffect, useContext, useRef } from 'react';\nimport SearchContext from '../../SearchContext';\nimport axios from 'axios';\n\nconst useHome = (query, imgNumber) => {\n  useEffect(() => {\n    let cancel;\n    axios({\n      method: 'GET',\n      url: `https://pixabay.com/api/?key=16381049-c197cfa5caeabac8c93d8da2c&q=${query}&image_type=photo&per_page=${imgNumber}`,\n      cancelToken: new axios.CancelToken(c => cancel = c)\n    }).then(response => {\n      console.log(response.data.hits);\n    }).catch(err => {\n      //ignore everytime we cancel the request\n      if (axios.isCancel(err)) {\n        return;\n      }\n    });\n    return () => cancel();\n  }, [query, imgNumber]);\n};\n\nexport default useHome;","map":{"version":3,"sources":["C:/Users/usuario/desktop/chained/chained/src/Components/Home/useHome.js"],"names":["useState","useEffect","useContext","useRef","SearchContext","axios","useHome","query","imgNumber","cancel","method","url","cancelToken","CancelToken","c","then","response","console","log","data","hits","catch","err","isCancel"],"mappings":"AAAA,SAAQA,QAAR,EAAiBC,SAAjB,EAA2BC,UAA3B,EAAuCC,MAAvC,QAAoD,OAApD;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAOC,SAAP,KAAmB;AAClCP,EAAAA,SAAS,CAAC,MAAI;AACX,QAAIQ,MAAJ;AACAJ,IAAAA,KAAK,CAAC;AACFK,MAAAA,MAAM,EAAG,KADP;AAEFC,MAAAA,GAAG,EAAG,qEAAoEJ,KAAM,8BAA6BC,SAAU,EAFrH;AAGFI,MAAAA,WAAW,EAAG,IAAIP,KAAK,CAACQ,WAAV,CAAuBC,CAAD,IAAML,MAAM,GAAGK,CAArC;AAHZ,KAAD,CAAL,CAKCC,IALD,CAKMC,QAAQ,IAAE;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcC,IAA1B;AACH,KAPD,EAOGC,KAPH,CAOSC,GAAG,IAAE;AACV;AACA,UAAGjB,KAAK,CAACkB,QAAN,CAAeD,GAAf,CAAH,EAAuB;AACnB;AACH;AACJ,KAZD;AAaA,WAAO,MAAKb,MAAM,EAAlB;AACF,GAhBQ,EAgBP,CAACF,KAAD,EAAOC,SAAP,CAhBO,CAAT;AAiBA,CAlBD;;AAmBA,eAAeF,OAAf","sourcesContent":["import {useState,useEffect,useContext, useRef} from 'react';\r\nimport SearchContext from '../../SearchContext'\r\nimport axios from 'axios';\r\nconst useHome = (query,imgNumber)=>{\r\n useEffect(()=>{\r\n    let cancel;\r\n    axios({\r\n        method : 'GET',\r\n        url :`https://pixabay.com/api/?key=16381049-c197cfa5caeabac8c93d8da2c&q=${query}&image_type=photo&per_page=${imgNumber}`,\r\n        cancelToken : new axios.CancelToken((c)=> cancel = c)\r\n    })\r\n    .then(response=>{\r\n        console.log(response.data.hits);\r\n    }).catch(err=>{\r\n        //ignore everytime we cancel the request\r\n        if(axios.isCancel(err)){\r\n            return\r\n        }\r\n    })\r\n    return ()=> cancel();\r\n },[query,imgNumber])   \r\n}\r\nexport default useHome;\r\n"]},"metadata":{},"sourceType":"module"}