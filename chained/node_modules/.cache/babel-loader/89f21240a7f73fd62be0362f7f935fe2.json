{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst useAsyncData = (initialData, initialUrl) => {\n  const [data, setData] = useState(initialData);\n  const [url, setUrl] = useState(initialUrl);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsError(false);\n      setIsLoading(true);\n\n      try {\n        const result = await axios({\n          url: initialUrl,\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.token}`\n          }\n        });\n        setData(result.data);\n      } catch (error) {\n        setIsError(true);\n      }\n\n      setIsLoading(false);\n    };\n\n    fetchData();\n  }, []);\n  return [{\n    data,\n    isLoading,\n    isError\n  }, setUrl];\n};\n\nexport default useAsyncData;","map":{"version":3,"sources":["C:/Users/usuario/desktop/chained/chained/src/Components/Homev2/Profile/useAsyncData.js"],"names":["useState","useEffect","axios","useAsyncData","initialData","initialUrl","data","setData","url","setUrl","isLoading","setIsLoading","isError","setIsError","fetchData","result","method","headers","Authorization","localStorage","token","error"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,YAAY,GAAG,CAACC,WAAD,EAAcC,UAAd,KAA6B;AACjD,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAACI,WAAD,CAAhC;AACA,QAAM,CAACI,GAAD,EAAMC,MAAN,IAAgBT,QAAQ,CAACK,UAAD,CAA9B;AACA,QAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,KAAD,CAAtC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMa,SAAS,GAAG,YAAY;AAC7BD,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,MAAAA,YAAY,CAAC,IAAD,CAAZ;;AAEA,UAAI;AACH,cAAMI,MAAM,GAAG,MAAMb,KAAK,CAAC;AAC1BM,UAAAA,GAAG,EAAEH,UADqB;AAE1BW,UAAAA,MAAM,EAAE,KAFkB;AAG1BC,UAAAA,OAAO,EAAE;AACR,4BAAgB,kBADR;AAERC,YAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,KAAM;AAFpC;AAHiB,SAAD,CAA1B;AASAb,QAAAA,OAAO,CAACQ,MAAM,CAACT,IAAR,CAAP;AACA,OAXD,CAWE,OAAOe,KAAP,EAAc;AACfR,QAAAA,UAAU,CAAC,IAAD,CAAV;AACA;;AAEDF,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACA,KApBD;;AAsBAG,IAAAA,SAAS;AACT,GAxBQ,EAwBN,EAxBM,CAAT;AA0BA,SAAO,CAAC;AAAER,IAAAA,IAAF;AAAQI,IAAAA,SAAR;AAAmBE,IAAAA;AAAnB,GAAD,EAA+BH,MAA/B,CAAP;AACA,CAhCD;;AAiCA,eAAeN,YAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nconst useAsyncData = (initialData, initialUrl) => {\r\n\tconst [data, setData] = useState(initialData);\r\n\tconst [url, setUrl] = useState(initialUrl);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [isError, setIsError] = useState(false);\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tsetIsError(false);\r\n\t\t\tsetIsLoading(true);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst result = await axios({\r\n\t\t\t\t\turl: initialUrl,\r\n\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\tAuthorization: `Bearer ${localStorage.token}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetData(result.data);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tsetIsError(true);\r\n\t\t\t}\r\n\r\n\t\t\tsetIsLoading(false);\r\n\t\t};\r\n\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n\treturn [{ data, isLoading, isError }, setUrl];\r\n};\r\nexport default useAsyncData;\r\n"]},"metadata":{},"sourceType":"module"}