{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\usuario\\\\desktop\\\\chained\\\\chained\\\\src\\\\Components\\\\Homev2\\\\Profile\\\\Profile.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Styles from \"./Profile.module.css\";\nimport InfoBar from \"./InfoBar\";\nimport { Button } from \"react-bootstrap\";\nimport UserQuotes from \"./UsersQuotes/UsersQuotes\";\nimport UserLikes from \"./UserLikes/UserLikes\";\nimport UserBookmarks from \"./UserBookmarks/UserBookmarks\";\nimport UserMore from \"./UserMore/UserMore\";\nexport default function Profile(props) {\n  const {\n    isUser,\n    isProfile,\n    userId\n  } = props;\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [ProfileImage, setProfileImage] = useState(\"\");\n\n  const handleClick = index => {\n    setSelectedIndex(index);\n  };\n\n  const [user, setUser] = useState({\n    username: \"\",\n    email: \"\",\n    quotes: \"\",\n    notifications: \"\",\n    inspires: \"\",\n    followers: [],\n    following: []\n  });\n  const [following, setFollowing] = useState(false);\n\n  const handleUnFollowClick = () => {\n    fetch(\"http://localhost:5000/user/unFollow\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.token}`\n      },\n      body: JSON.stringify({\n        userToUnfollow: userId\n      })\n    }).then(res => {\n      res.json().then(data => {\n        console.log(data);\n        setFollowing(false);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    fetch(\"http://localhost:5000/user/ProfileImage\", {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${localStorage.token}`\n      }\n    }).then(res => {\n      res.json().then(data => {\n        setProfileImage(data.path);\n        console.log(data);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const handleFollowClick = () => {\n    fetch(\"http://localhost:5000/user/follow\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.token}`\n      },\n      body: JSON.stringify({\n        userToFollowId: userId\n      })\n    }).then(res => {\n      res.json().then(data => {\n        console.log(data);\n        setFollowing(true);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    if (isUser) {\n      fetch(\"http://localhost:5000/user/isFollowedByLoggedUser\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.token}`\n        },\n        body: JSON.stringify({\n          userId: userId\n        })\n      }).then(res => {\n        res.json().then(data => {\n          setFollowing(data.isFollowedByLoggedUser);\n        });\n      });\n    }\n  }, []);\n  useEffect(() => {\n    let unmounted = false;\n\n    if (isProfile) {\n      fetch(\"http://localhost:5000/user/profile\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${localStorage.token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => {\n        res.json().then(jsonData => {\n          const {\n            _id,\n            username,\n            email,\n            quotes,\n            notifications,\n            inspires,\n            followers,\n            following\n          } = jsonData.data.user;\n\n          if (!unmounted) {\n            setUser({\n              username: username,\n              email: email,\n              quotes: quotes,\n              notifications: notifications,\n              inspires: inspires,\n              followers: followers,\n              following: following\n            });\n          }\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    } else if (isUser) {\n      fetch(`http://localhost:5000/user/id/${userId}`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => {\n        res.json().then(jsonData => {\n          const {\n            _id,\n            username,\n            email,\n            quotes,\n            notifications,\n            inspires,\n            followers,\n            following\n          } = jsonData.data.user;\n\n          if (!unmounted) {\n            setUser({\n              username: username,\n              email: email,\n              quotes: quotes,\n              notifications: notifications,\n              inspires: inspires,\n              followers: followers,\n              following: following\n            });\n          }\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n\n    return () => {\n      unmounted = true;\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: Styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: Styles.section1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(InfoBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: Styles.section2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: Styles.Header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: require(ProfileImage),\n    className: Styles.profilePicture,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: Styles.EditProfilebtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 6\n    }\n  }, \"Edit Profile\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: Styles.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: Styles.mainContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: Styles.wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: Styles.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 8\n    }\n  }, user.username), /*#__PURE__*/React.createElement(\"p\", {\n    className: Styles.quotes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 8\n    }\n  }, `${user.quotes} quotes`), /*#__PURE__*/React.createElement(\"p\", {\n    className: Styles.inspired,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 8\n    }\n  }, `${user.inspires} people have been spired by ${user.username}`), /*#__PURE__*/React.createElement(\"p\", {\n    className: Styles.inspired,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 8\n    }\n  }, `${user.followers.length} Followers`), isUser && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      width: \"34% \",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 10\n    }\n  }, \"Inspired\"), following && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleUnFollowClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }, \"Unfollow\"), !following && /*#__PURE__*/React.createElement(Button, {\n    onClick: handleFollowClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  }, \"Follow\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: Styles.bottomNavbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => {\n      handleClick(0);\n    },\n    className: Styles.btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  }, \"Quotes\"), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => {\n      handleClick(1);\n    },\n    className: Styles.btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }\n  }, \"Likes\"), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => {\n      handleClick(2);\n    },\n    className: Styles.btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }\n  }, \"Bookmarks\"), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => {\n      handleClick(3);\n    },\n    className: Styles.btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }\n  }, \"More\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: Styles.ContentDisplay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 6\n    }\n  }, selectedIndex === 0 && /*#__PURE__*/React.createElement(UserQuotes, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 31\n    }\n  })), selectedIndex === 1 && /*#__PURE__*/React.createElement(UserLikes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 31\n    }\n  }), selectedIndex === 2 && /*#__PURE__*/React.createElement(UserBookmarks, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 31\n    }\n  }), selectedIndex === 3 && /*#__PURE__*/React.createElement(UserMore, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 31\n    }\n  })))));\n}","map":{"version":3,"sources":["C:/Users/usuario/desktop/chained/chained/src/Components/Homev2/Profile/Profile.js"],"names":["React","useState","useEffect","Styles","InfoBar","Button","UserQuotes","UserLikes","UserBookmarks","UserMore","Profile","props","isUser","isProfile","userId","selectedIndex","setSelectedIndex","ProfileImage","setProfileImage","handleClick","index","user","setUser","username","email","quotes","notifications","inspires","followers","following","setFollowing","handleUnFollowClick","fetch","method","headers","Authorization","localStorage","token","body","JSON","stringify","userToUnfollow","then","res","json","data","console","log","catch","err","path","handleFollowClick","userToFollowId","isFollowedByLoggedUser","unmounted","jsonData","_id","container","section1","section2","Header","require","profilePicture","EditProfilebtn","content","mainContent","wrapper","name","inspired","length","display","width","justifyContent","bottomNavbar","btn","ContentDisplay"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Styles from \"./Profile.module.css\";\r\nimport InfoBar from \"./InfoBar\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport UserQuotes from \"./UsersQuotes/UsersQuotes\";\r\nimport UserLikes from \"./UserLikes/UserLikes\";\r\nimport UserBookmarks from \"./UserBookmarks/UserBookmarks\";\r\nimport UserMore from \"./UserMore/UserMore\";\r\nexport default function Profile(props) {\r\n\tconst { isUser, isProfile, userId } = props;\r\n\tconst [selectedIndex, setSelectedIndex] = useState(0);\r\n\tconst [ProfileImage, setProfileImage] = useState(\"\");\r\n\tconst handleClick = (index) => {\r\n\t\tsetSelectedIndex(index);\r\n\t};\r\n\tconst [user, setUser] = useState({\r\n\t\tusername: \"\",\r\n\t\temail: \"\",\r\n\t\tquotes: \"\",\r\n\t\tnotifications: \"\",\r\n\t\tinspires: \"\",\r\n\t\tfollowers: [],\r\n\t\tfollowing: [],\r\n\t});\r\n\tconst [following, setFollowing] = useState(false);\r\n\tconst handleUnFollowClick = () => {\r\n\t\tfetch(\"http://localhost:5000/user/unFollow\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.token}`,\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tuserToUnfollow: userId,\r\n\t\t\t}),\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.json().then((data) => {\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\tsetFollowing(false);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tfetch(\"http://localhost:5000/user/ProfileImage\", {\r\n\t\t\tmethod: \"GET\",\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.json().then((data) => {\r\n\t\t\t\t\tsetProfileImage(data.path);\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}, []);\r\n\tconst handleFollowClick = () => {\r\n\t\tfetch(\"http://localhost:5000/user/follow\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.token}`,\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tuserToFollowId: userId,\r\n\t\t\t}),\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.json().then((data) => {\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\tsetFollowing(true);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (isUser) {\r\n\t\t\tfetch(\"http://localhost:5000/user/isFollowedByLoggedUser\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.token}`,\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({ userId: userId }),\r\n\t\t\t}).then((res) => {\r\n\t\t\t\tres.json().then((data) => {\r\n\t\t\t\t\tsetFollowing(data.isFollowedByLoggedUser);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet unmounted = false;\r\n\t\tif (isProfile) {\r\n\t\t\tfetch(\"http://localhost:5000/user/profile\", {\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.token}`,\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tres.json().then((jsonData) => {\r\n\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\t\tusername,\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tquotes,\r\n\t\t\t\t\t\t\tnotifications,\r\n\t\t\t\t\t\t\tinspires,\r\n\t\t\t\t\t\t\tfollowers,\r\n\t\t\t\t\t\t\tfollowing,\r\n\t\t\t\t\t\t} = jsonData.data.user;\r\n\t\t\t\t\t\tif (!unmounted) {\r\n\t\t\t\t\t\t\tsetUser({\r\n\t\t\t\t\t\t\t\tusername: username,\r\n\t\t\t\t\t\t\t\temail: email,\r\n\t\t\t\t\t\t\t\tquotes: quotes,\r\n\t\t\t\t\t\t\t\tnotifications: notifications,\r\n\t\t\t\t\t\t\t\tinspires: inspires,\r\n\t\t\t\t\t\t\t\tfollowers: followers,\r\n\t\t\t\t\t\t\t\tfollowing: following,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t} else if (isUser) {\r\n\t\t\tfetch(`http://localhost:5000/user/id/${userId}`, {\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tres.json().then((jsonData) => {\r\n\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\t\tusername,\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tquotes,\r\n\t\t\t\t\t\t\tnotifications,\r\n\t\t\t\t\t\t\tinspires,\r\n\t\t\t\t\t\t\tfollowers,\r\n\t\t\t\t\t\t\tfollowing,\r\n\t\t\t\t\t\t} = jsonData.data.user;\r\n\t\t\t\t\t\tif (!unmounted) {\r\n\t\t\t\t\t\t\tsetUser({\r\n\t\t\t\t\t\t\t\tusername: username,\r\n\t\t\t\t\t\t\t\temail: email,\r\n\t\t\t\t\t\t\t\tquotes: quotes,\r\n\t\t\t\t\t\t\t\tnotifications: notifications,\r\n\t\t\t\t\t\t\t\tinspires: inspires,\r\n\t\t\t\t\t\t\t\tfollowers: followers,\r\n\t\t\t\t\t\t\t\tfollowing: following,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tunmounted = true;\r\n\t\t};\r\n\t}, []);\r\n\treturn (\r\n\t\t<div className={Styles.container}>\r\n\t\t\t<div className={Styles.section1}>\r\n\t\t\t\t<InfoBar></InfoBar>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={Styles.section2}>\r\n\t\t\t\t<div className={Styles.Header}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={require(ProfileImage)}\r\n\t\t\t\t\t\tclassName={Styles.profilePicture}\r\n\t\t\t\t\t></img>\r\n\t\t\t\t\t<Button className={Styles.EditProfilebtn}>Edit Profile</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={Styles.content}>\r\n\t\t\t\t\t<div className={Styles.mainContent}>\r\n\t\t\t\t\t\t<div className={Styles.wrapper}>\r\n\t\t\t\t\t\t\t<h3 className={Styles.name}>{user.username}</h3>\r\n\t\t\t\t\t\t\t<p className={Styles.quotes}>{`${user.quotes} quotes`}</p>\r\n\t\t\t\t\t\t\t<p className={Styles.inspired}>\r\n\t\t\t\t\t\t\t\t{`${user.inspires} people have been spired by ${user.username}`}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tclassName={Styles.inspired}\r\n\t\t\t\t\t\t\t>{`${user.followers.length} Followers`}</p>\r\n\r\n\t\t\t\t\t\t\t{isUser && (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\t\t\twidth: \"34% \",\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent: \"space-between\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button>Inspired</Button>\r\n\t\t\t\t\t\t\t\t\t{following && (\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={handleUnFollowClick}>Unfollow</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{!following && (\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={handleFollowClick}>Follow</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={Styles.bottomNavbar}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleClick(0);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName={Styles.btn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tQuotes\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleClick(1);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName={Styles.btn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLikes\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleClick(2);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName={Styles.btn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tBookmarks\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleClick(3);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName={Styles.btn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tMore\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={Styles.ContentDisplay}>\r\n\t\t\t\t\t\t{selectedIndex === 0 && <UserQuotes {...props}></UserQuotes>}\r\n\t\t\t\t\t\t{selectedIndex === 1 && <UserLikes></UserLikes>}\r\n\t\t\t\t\t\t{selectedIndex === 2 && <UserBookmarks></UserBookmarks>}\r\n\t\t\t\t\t\t{selectedIndex === 3 && <UserMore></UserMore>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}