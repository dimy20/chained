{"ast":null,"code":"import { useState, useEffect, useContext, useRef } from 'react';\nimport SearchContext from '../../SearchContext';\nimport axios from 'axios';\n\nconst useHome = (query, imgNumber) => {\n  const [Loading, setLoading] = useState(true);\n  const [Err, setErr] = useState(false);\n  const [ImgArr, setImgArr] = useState([]);\n  const [hasMore, setHasMore] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    let cancel;\n    axios({\n      method: 'GET',\n      url: `https://pixabay.com/api/?key=16381049-c197cfa5caeabac8c93d8da2c&q=${query}&image_type=photo&per_page=${imgNumber}`,\n      cancelToken: new axios.CancelToken(c => cancel = c)\n    }).then(response => {\n      setImgArr(prevImgs => {\n        return [...new Set([...prevImgs, response.data.hits.map(img => img.largeImageURL)])];\n      });\n      setLoading(false);\n    }).catch(err => {\n      //ignore everytime we cancel the request\n      if (axios.isCancel(err)) {\n        return;\n      }\n\n      setErr(true);\n    });\n    return () => cancel();\n  }, [query, imgNumber]);\n};\n\nexport default useHome;","map":{"version":3,"sources":["C:/Users/usuario/desktop/chained/chained/src/Components/Home/useHome.js"],"names":["useState","useEffect","useContext","useRef","SearchContext","axios","useHome","query","imgNumber","Loading","setLoading","Err","setErr","ImgArr","setImgArr","hasMore","setHasMore","cancel","method","url","cancelToken","CancelToken","c","then","response","prevImgs","Set","data","hits","map","img","largeImageURL","catch","err","isCancel"],"mappings":"AAAA,SAAQA,QAAR,EAAiBC,SAAjB,EAA2BC,UAA3B,EAAuCC,MAAvC,QAAoD,OAApD;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAOC,SAAP,KAAmB;AAC9B,QAAM,CAACC,OAAD,EAASC,UAAT,IAAuBV,QAAQ,CAAC,IAAD,CAArC;AACA,QAAM,CAACW,GAAD,EAAKC,MAAL,IAAeZ,QAAQ,CAAC,KAAD,CAA7B;AACA,QAAM,CAACa,MAAD,EAAQC,SAAR,IAAqBd,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAM,CAACe,OAAD,EAASC,UAAT,IAAuBhB,QAAQ,CAAC,KAAD,CAArC;AACAC,EAAAA,SAAS,CAAC,MAAI;AACXS,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,QAAIO,MAAJ;AACAZ,IAAAA,KAAK,CAAC;AACFa,MAAAA,MAAM,EAAG,KADP;AAEFC,MAAAA,GAAG,EAAG,qEAAoEZ,KAAM,8BAA6BC,SAAU,EAFrH;AAGFY,MAAAA,WAAW,EAAG,IAAIf,KAAK,CAACgB,WAAV,CAAuBC,CAAD,IAAML,MAAM,GAAGK,CAArC;AAHZ,KAAD,CAAL,CAKCC,IALD,CAKMC,QAAQ,IAAE;AACZV,MAAAA,SAAS,CAACW,QAAQ,IAAE;AAChB,eAAO,CAAC,GAAG,IAAIC,GAAJ,CAAQ,CAAC,GAAGD,QAAJ,EAAaD,QAAQ,CAACG,IAAT,CAAcC,IAAd,CAAmBC,GAAnB,CAAuBC,GAAG,IAAEA,GAAG,CAACC,aAAhC,CAAb,CAAR,CAAJ,CAAP;AACH,OAFQ,CAAT;AAGArB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAVD,EAUGsB,KAVH,CAUSC,GAAG,IAAE;AACV;AACA,UAAG5B,KAAK,CAAC6B,QAAN,CAAeD,GAAf,CAAH,EAAuB;AACnB;AACH;;AACDrB,MAAAA,MAAM,CAAC,IAAD,CAAN;AACH,KAhBD;AAiBA,WAAO,MAAKK,MAAM,EAAlB;AACH,GArBS,EAqBR,CAACV,KAAD,EAAOC,SAAP,CArBQ,CAAT;AAwBJ,CA7BD;;AA8BA,eAAeF,OAAf","sourcesContent":["import {useState,useEffect,useContext, useRef} from 'react';\r\nimport SearchContext from '../../SearchContext'\r\nimport axios from 'axios';\r\nconst useHome = (query,imgNumber)=>{\r\n     const [Loading,setLoading] = useState(true);\r\n     const [Err,setErr] = useState(false);\r\n     const [ImgArr,setImgArr] = useState([]);\r\n     const [hasMore,setHasMore] = useState(false);\r\n     useEffect(()=>{\r\n        setLoading(true);\r\n        let cancel;\r\n        axios({\r\n            method : 'GET',\r\n            url :`https://pixabay.com/api/?key=16381049-c197cfa5caeabac8c93d8da2c&q=${query}&image_type=photo&per_page=${imgNumber}`,\r\n            cancelToken : new axios.CancelToken((c)=> cancel = c)\r\n        })\r\n        .then(response=>{\r\n            setImgArr(prevImgs=>{\r\n                return [...new Set([...prevImgs,response.data.hits.map(img=>img.largeImageURL)])]\r\n            })\r\n            setLoading(false);\r\n        }).catch(err=>{\r\n            //ignore everytime we cancel the request\r\n            if(axios.isCancel(err)){\r\n                return\r\n            }\r\n            setErr(true);\r\n        })\r\n        return ()=> cancel();\r\n    },[query,imgNumber])   \r\n\r\n\r\n}\r\nexport default useHome;\r\n"]},"metadata":{},"sourceType":"module"}