{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\usuario\\\\desktop\\\\chained\\\\chained\\\\src\\\\Components\\\\InfiniteScroll\\\\InfiniteScroll.js\";\nimport React, { useRef, useCallback, useState, useContext } from \"react\";\nexport default function InfiniteScroll(props) {\n  const {\n    render,\n    initialPageNumber,\n    Loading\n  } = props;\n  const [imgNumber, setimgNumber] = useState(initialPageNumber);\n  const observer = useRef();\n  const lastImgElement = useCallback(node => {\n    if (Loading) return;\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver(entries => {\n      console.log(entries);\n\n      if (entries[0].isIntersecting) {\n        console.log(\"visible\");\n        setimgNumber(previmgNumber => previmgNumber + 1);\n      }\n    });\n\n    if (node) {\n      observer.current.observe(node);\n    }\n\n    console.log(node);\n  }, [Loading]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, render(lastImgElement, imgNumber));\n}","map":{"version":3,"sources":["C:/Users/usuario/desktop/chained/chained/src/Components/InfiniteScroll/InfiniteScroll.js"],"names":["React","useRef","useCallback","useState","useContext","InfiniteScroll","props","render","initialPageNumber","Loading","imgNumber","setimgNumber","observer","lastImgElement","node","current","disconnect","IntersectionObserver","entries","console","log","isIntersecting","previmgNumber","observe"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,WAAxB,EAAqCC,QAArC,EAA+CC,UAA/C,QAAiE,OAAjE;AAEA,eAAe,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC7C,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,iBAAV;AAA6BC,IAAAA;AAA7B,MAAyCH,KAA/C;AACA,QAAM,CAACI,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAACK,iBAAD,CAA1C;AACA,QAAMI,QAAQ,GAAGX,MAAM,EAAvB;AACA,QAAMY,cAAc,GAAGX,WAAW,CAChCY,IAAD,IAAU;AACT,QAAIL,OAAJ,EAAa;AACb,QAAIG,QAAQ,CAACG,OAAb,EAAsBH,QAAQ,CAACG,OAAT,CAAiBC,UAAjB;AAEtBJ,IAAAA,QAAQ,CAACG,OAAT,GAAmB,IAAIE,oBAAJ,CAA0BC,OAAD,IAAa;AACxDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;;AACA,UAAIA,OAAO,CAAC,CAAD,CAAP,CAAWG,cAAf,EAA+B;AAC9BF,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAT,QAAAA,YAAY,CAAEW,aAAD,IAAmBA,aAAa,GAAG,CAApC,CAAZ;AACA;AACD,KANkB,CAAnB;;AAOA,QAAIR,IAAJ,EAAU;AACTF,MAAAA,QAAQ,CAACG,OAAT,CAAiBQ,OAAjB,CAAyBT,IAAzB;AACA;;AACDK,IAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACA,GAhBgC,EAiBjC,CAACL,OAAD,CAjBiC,CAAlC;AAoBA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMF,MAAM,CAACM,cAAD,EAAiBH,SAAjB,CAAZ,CAAP;AACA","sourcesContent":["import React, { useRef, useCallback, useState, useContext } from \"react\";\r\n\r\nexport default function InfiniteScroll(props) {\r\n\tconst { render, initialPageNumber, Loading } = props;\r\n\tconst [imgNumber, setimgNumber] = useState(initialPageNumber);\r\n\tconst observer = useRef();\r\n\tconst lastImgElement = useCallback(\r\n\t\t(node) => {\r\n\t\t\tif (Loading) return;\r\n\t\t\tif (observer.current) observer.current.disconnect();\r\n\r\n\t\t\tobserver.current = new IntersectionObserver((entries) => {\r\n\t\t\t\tconsole.log(entries);\r\n\t\t\t\tif (entries[0].isIntersecting) {\r\n\t\t\t\t\tconsole.log(\"visible\");\r\n\t\t\t\t\tsetimgNumber((previmgNumber) => previmgNumber + 1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (node) {\r\n\t\t\t\tobserver.current.observe(node);\r\n\t\t\t}\r\n\t\t\tconsole.log(node);\r\n\t\t},\r\n\t\t[Loading]\r\n\t);\r\n\r\n\treturn <div>{render(lastImgElement, imgNumber)}</div>;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}