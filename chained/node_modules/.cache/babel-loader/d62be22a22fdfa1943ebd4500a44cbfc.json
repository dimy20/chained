{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\usuario\\\\desktop\\\\chained\\\\chained\\\\src\\\\Components\\\\PasswordRecoveryModal\\\\PasswordRecoveryModal.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal, Form, Button, Container } from \"react-bootstrap\";\nimport { FormGroup } from \"@material-ui/core\";\nimport Styles from \"./PasswordRecoveryModal.module.css\";\nimport joi from \"joi\";\nexport default function ForgotPasswordModal(props) {\n  const {\n    show,\n    onHide,\n    closeLoginModal,\n    setIsLoginOpen\n  } = props;\n  const [ShowSendEmailButton, setShowSendEmailButton] = useState(false);\n  const [user, setEmail] = useState({\n    email: \"\"\n  });\n  const schema = joi.object({\n    email: joi.string().email({\n      minDomainSegments: 2,\n      tlds: {\n        allow: [\"com\", \"net\", \"org\"]\n      }\n    })\n  }); //Closes Password Recovery Modal and sets isLoginOpen to true, so it opens again\n\n  const handleGoBackButton = () => {\n    onHide();\n    setIsLoginOpen(true);\n  }; //As it validates\n\n\n  const handleChange = e => {\n    setEmail(e.target.value);\n  };\n\n  const handleSubmit = () => {\n    console.log(user);\n    fetch(\"http://localhost:5000/password/reset\", {\n      method: \"POST\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      console.log(res);\n    }).catch(err => {\n      console.log(err);\n    });\n  }; //If show is true, close the login Modal\n\n\n  useEffect(() => {\n    if (show) {\n      closeLoginModal();\n    }\n  }, [show]);\n  useEffect(() => {\n    const {\n      error,\n      value\n    } = schema.validate({\n      email: user.email\n    });\n\n    if (error === null) {\n      setShowSendEmailButton(true);\n    } else {\n      setShowSendEmailButton(false);\n    }\n  }, [user.email]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: onHide,\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"Recover your account\"))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"80%\",\n      padding: \"10px\",\n      display: \"grid\",\n      justifySelf: \"center\",\n      height: \"70px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: \"16px\",\n      color: \"grey\",\n      marginLeft: \"7%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 6\n    }\n  }, \"You can use your email or username to recover your password\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: Styles.FormInnerContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    onChange: handleChange,\n    style: {\n      width: \"90%\",\n      justifySelf: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"Email\",\n    placeholder: \"Enter your email\",\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"90%\",\n      display: \"flex\",\n      justifyContent: \"flex-end\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"35%\",\n      padding: \"2px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleGoBackButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 10\n    }\n  }, \"Go back\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 10\n    }\n  }, \"Close\")))))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 5\n    }\n  }, ShowSendEmailButton && /*#__PURE__*/React.createElement(Button, {\n    className: Styles.SendEmailButton,\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, \"Send email\"))));\n}","map":{"version":3,"sources":["C:/Users/usuario/desktop/chained/chained/src/Components/PasswordRecoveryModal/PasswordRecoveryModal.js"],"names":["React","useEffect","useState","Modal","Form","Button","Container","FormGroup","Styles","joi","ForgotPasswordModal","props","show","onHide","closeLoginModal","setIsLoginOpen","ShowSendEmailButton","setShowSendEmailButton","user","setEmail","email","schema","object","string","minDomainSegments","tlds","allow","handleGoBackButton","handleChange","e","target","value","handleSubmit","console","log","fetch","method","body","JSON","stringify","headers","then","res","catch","err","error","validate","fontWeight","width","padding","display","justifySelf","height","fontSize","color","marginLeft","FormInnerContainer","justifyContent","SendEmailButton"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Modal, Form, Button, Container } from \"react-bootstrap\";\r\nimport { FormGroup } from \"@material-ui/core\";\r\nimport Styles from \"./PasswordRecoveryModal.module.css\";\r\nimport joi from \"joi\";\r\nexport default function ForgotPasswordModal(props) {\r\n\tconst { show, onHide, closeLoginModal, setIsLoginOpen } = props;\r\n\tconst [ShowSendEmailButton, setShowSendEmailButton] = useState(false);\r\n\tconst [user, setEmail] = useState({\r\n\t\temail: \"\",\r\n\t});\r\n\tconst schema = joi.object({\r\n\t\temail: joi.string().email({\r\n\t\t\tminDomainSegments: 2,\r\n\t\t\ttlds: { allow: [\"com\", \"net\", \"org\"] },\r\n\t\t}),\r\n\t});\r\n\t//Closes Password Recovery Modal and sets isLoginOpen to true, so it opens again\r\n\tconst handleGoBackButton = () => {\r\n\t\tonHide();\r\n\t\tsetIsLoginOpen(true);\r\n\t};\r\n\t//As it validates\r\n\tconst handleChange = (e) => {\r\n\t\tsetEmail(e.target.value);\r\n\t};\r\n\tconst handleSubmit = () => {\r\n\t\tconsole.log(user);\r\n\t\tfetch(\"http://localhost:5000/password/reset\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(user),\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\t//If show is true, close the login Modal\r\n\tuseEffect(() => {\r\n\t\tif (show) {\r\n\t\t\tcloseLoginModal();\r\n\t\t}\r\n\t}, [show]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { error, value } = schema.validate({\r\n\t\t\temail: user.email,\r\n\t\t});\r\n\t\tif (error === null) {\r\n\t\t\tsetShowSendEmailButton(true);\r\n\t\t} else {\r\n\t\t\tsetShowSendEmailButton(false);\r\n\t\t}\r\n\t}, [user.email]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Modal show={show} onHide={onHide} centered>\r\n\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t<h1 style={{ fontWeight: \"bold\" }}>Recover your account</h1>\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\t\tpadding: \"10px\",\r\n\t\t\t\t\t\tdisplay: \"grid\",\r\n\t\t\t\t\t\tjustifySelf: \"center\",\r\n\t\t\t\t\t\theight: \"70px\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<p\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\t\t\t\tfontSize: \"16px\",\r\n\t\t\t\t\t\t\tcolor: \"grey\",\r\n\t\t\t\t\t\t\tmarginLeft: \"7%\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tYou can use your email or username to recover your password\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<div className={Styles.FormInnerContainer}>\r\n\t\t\t\t\t\t\t<Form.Group\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\tstyle={{ width: \"90%\", justifySelf: \"center\" }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\ttype=\"Email\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter your email\"\r\n\t\t\t\t\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\twidth: \"90%\",\r\n\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\t\tjustifyContent: \"flex-end\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent: \"space-between\",\r\n\t\t\t\t\t\t\t\t\t\twidth: \"35%\",\r\n\t\t\t\t\t\t\t\t\t\tpadding: \"2px\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button onClick={handleGoBackButton}>Go back</Button>\r\n\t\t\t\t\t\t\t\t\t<Button onClick={onHide}>Close</Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t{ShowSendEmailButton && (\r\n\t\t\t\t\t\t<Button className={Styles.SendEmailButton} onClick={handleSubmit}>\r\n\t\t\t\t\t\t\tSend email\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}